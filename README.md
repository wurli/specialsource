
<!-- README.md is generated from README.Rmd. Please edit that file -->

# specialsource

<!-- badges: start -->
<!-- badges: end -->

{specialsource} is an extension for roxygen2 which provides a single tag
`@code`. When used, this tag will insert a copy of the functionâ€™s source
code under the subheading *Source Code*:

``` r
library(specialsource)

text <- "
#' My function
#' 
#' Add two numbers together
#' 
#' @md
#' 
#' @param x,y Numbers to add
#' 
#' @code The source is included for those who want to know the details
#' 
#' @examples
#' f(1, 2)
f <- function(x, y) {
  # Add x and y
  x + y
}
"

block <- roxygen2::parse_text(text)[[1]]
topic <- roxygen2::roc_proc_text(roxygen2::rd_roclet(), text)[[1]]

topic
#> % Generated by roxygen2: do not edit by hand
#> % Please edit documentation in ./<text>
#> \name{f}
#> \alias{f}
#> \title{My function}
#> \usage{
#> f(x, y)
#> }
#> \arguments{
#> \item{x, y}{Numbers to add}
#> }
#> \description{
#> Add two numbers together
#> }
#> \examples{
#> f(1, 2)
#> }
#> \section{Source Code}{
#> The source is included for those who want to know the details
#> 
#> \if{html}{\out{<div class="sourceCode r">}}\preformatted{f <- function(x, y) \{
#>   # Add x and y
#>   x + y
#> \}
#> }\if{html}{\out{</div>}}}
```

# Why?

Good code should be, at some level, self-documenting. In certain
contexts, source code is informative enough that it would be nice to see
it, complete with comments, when viewing function documentation with `?`
or `help()`, or on a website built with pkgdown. The `@code` tag from
specialsource exists to provide this functionality.

# Installation

This package can be installed from GitHub as follows:

``` r
remotes::install_github("wurli/specialsource")
```
